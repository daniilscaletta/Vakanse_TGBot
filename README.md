# Vakanse TGBot - Парсер вакансий с hh.ru

Проект для парсинга вакансий с сайта hh.ru с использованием FastAPI и API hh.ru.

## Описание

Этот проект предоставляет REST API для получения вакансий с hh.ru по заданным критериям:

- **Поиск**: python
- **Исключенные слова**: преподаватель, js, наставник, ментор, Android
- **Регион**: Россия
- **Специализации**: Программист, разработчик; DevOps-инженер; Сетевой инженер; Системный администратор; Системный инженер; Специалист по информационной безопасности
- **Опыт работы**: не имеет значения
- **Тип занятости**: Частичная занятость; Проектная работа
- **Формат работы**: Удаленно
- **Ключевые слова**: В названии вакансии; В названии компании; В описании вакансии

## Структура проекта

```
Vakanse_TGBot/
├── app/
│   ├── __init__.py
│   ├── main.py          # FastAPI приложение
│   ├── models.py        # Pydantic модели
│   └── parser.py        # Парсер hh.ru
├── requirements.txt     # Зависимости Python
├── setup_project.sh     # Скрипт настройки проекта
└── README.md           # Документация
```

## Установка и запуск

### 1. Клонирование и настройка

```bash
# Клонируйте репозиторий
git clone <repository-url>
cd Vakanse_TGBot

# Запустите скрипт настройки
chmod +x setup_project.sh
./setup_project.sh
```

### 2. Активация виртуального окружения

```bash
source venv/bin/activate
```

### 3. Запуск приложения

```bash
python -m app.main
```

Приложение будет доступно по адресу: http://localhost:8000

## API Endpoints

### GET /health
Проверка состояния сервиса.

**Ответ:**
```json
{
  "status": "ok"
}
```

### GET /vacancies
Получение списка вакансий.

**Ответ:**
```json
[
  {
    "title": "Python-разработчик",
    "url": "https://hh.ru/vacancy/123456",
    "salary": "150000-200000 RUB"
  }
]
```

## Модели данных

### Vacancy
```python
class Vacancy(BaseModel):
    title: str      # Название вакансии
    url: HttpUrl    # Ссылка на вакансию
    salary: str     # Информация о зарплате
```

## Особенности реализации

1. **Использование API hh.ru**: Вместо парсинга HTML используется официальный API hh.ru для получения данных
2. **Фильтрация**: Автоматическая фильтрация вакансий по исключенным словам и специализациям
3. **Обработка ошибок**: Graceful handling ошибок с возвратом заглушки при недоступности API
4. **Логирование**: Подробное логирование процесса парсинга для отладки

## Зависимости

- `fastapi>=0.115.0` - Веб-фреймворк
- `uvicorn>=0.30.0` - ASGI сервер
- `requests>=2.31.0` - HTTP клиент
- `pydantic>=2.0.0` - Валидация данных

## Разработка

### Добавление новых зависимостей

```bash
pip install <package-name>
pip freeze > requirements.txt
```

### Тестирование

```bash
# Проверка здоровья сервиса
curl http://localhost:8000/health

# Получение вакансий
curl http://localhost:8000/vacancies
```

## Лицензия

MIT License
